{"version":3,"sources":["../../../app/scripts/logger.js","../../../app/scripts/util.js","../../../app/scripts/env.js","../../../app/scripts/modal.js","../../../app/scripts/safari.js","../../../app/scripts/analytics.js","../../../app/scripts/psprint.js","../../../app/scripts/logaster.js","../../../app/scripts/affiliates.js","../../../app/scripts/newsletter.js","../../../app/scripts/themes.js","../../../app/scripts/pdf.js","../../../app/scripts/app.js","../../../app/scripts/directives/fileread.js","../../../app/scripts/directives/drag.js","../../../app/scripts/controllers/main.js","../../scripts/templates.js"],"names":["window","originalWindowErrorCallback","onerror","errorMessage","url","lineNumber","columnNumber","errorObject","indexOf","ga","exceptionDescription","message","exDescription","hash","key","hashFull","location","substr","hashValue","split","closest","$elem","selector","$matches","document","parentNode","querySelectorAll","call","hasClass","node","className","tempClass","addClass","removeClass","spaceBefore","spaceAfter","replace","util","printchompUrl","apiUrl","env","domain","$","on","body","localStorage","setItem","removeItem","e","Storage","prototype","_setItem","isSafari","navigator","userAgent","$warning","querySelector","clickElement","target","addEventListener","link","openPsprintPage","open","$modal","showLogasterModal","foundation","closeModal","classList","contains","preventDefault","$hideCheckbox","affiliateStoreKey","affiliateStore","affiliateStoreDefault","JSON","stringify","modalHide","modalTime","Date","now","expireTime","showAffiliateModal","getItem","parse","checked","changeAffiliateHideStore","newsletterSubscribe","$content","emailAddress","textContent","trim","xhr","XMLHttpRequest","setRequestHeader","send","email","hashChange","themeActive","$themeActive","$container","click","GeneratePdf","config","card","margin","cardWidth","cardHeight","trimWithMargin","marginWithoutTrim","trimSubstract","trimLines","x","y","x1","y1","name","imgData","doc","jsPDF","addImage","forEach","line","setLineWidth","save","app","angular","module","run","$rootScope","root","directive","scope","fileread","element","bind","changeEvent","$apply","files","$document","$timeout","template","drModel","drContainer","drGrid","transclude","classDrActive","classDrShow","$body","getElementsByTagName","scrollTop","scrollLeft","$dragHandle","$resizeHandle","transformPrefixes","startX","startY","minX","maxX","minY","maxY","dragActive","resizeActive","grid","maxGrid","val","Math","floor","setContainment","argument","dragRect","getBoundingClientRect","containerRect","dragStartY","top","dragStartX","left","height","width","restrictGrid","mousemove","touches","pageX","pageY","translate","prefix","css","newHeight","_startHeight","newWidth","_startWidth","mouseup","offsetLeft","offsetTop","parseInt","bottom","right","remove","mousedown","elem","add","disableScroll","emulateTouch","clientX","clientY","setModel","$watch","controller","$scope","$routeParams","$location","$q","$modalOrder","model","cardPictureFile","cardPicture","imageData","imageFilename","imageExt","pdfData","pdfFilename","loadingCard","expire","setDate","getDate","promoExpire","storeDefaults","position","organization","phone","picture","person","details","store","copy","storedDetails","extend","fromJson","debounce","fn","delay","timer","context","this","args","arguments","clearTimeout","setTimeout","apply","toJson","clearInlineStyles","cardChildren","c","removeAttribute","ResetCard","change","previousTheme","theme","search","$on","imageType","type","match","reader","FileReader","onload","result","readAsDataURL","alert","pxToEm","parentStyle","getComputedStyle","style","childFontSize","parseFloat","fontSize","parentFontSize","properties","inlineStyleValue","newValues","prop","childValue","newValue","emSize","Object","keys","tagName","toLowerCase","fontSizes","1","2","3","4","5","6","7","fixPxSizes","container","children","editors","size","lists","li","generatePicture","cb","deferred","defer","getSelection","removeAllRanges","$cardClone","cloneNode","appendChild","html2canvas","letterRendering","then","canvas","removeChild","resolve","promise","DownloadPdf","toDataURL","DownloadPicture","toBlob","blob","filename","saveAs","$cardContainer","scrollIntoView","openedModal","order","OpenOrderModal","scrollWidth","ceil","scrollHeight","clientWidth","clientHeight","widthOverflow","abs","heightOverflow","isOverflowing","overflowMessage","text","city","jpegUrl","imagePreview","allTemplates","loadedTemplates","$cardContent","event","$templateCache","put"],"mappings":"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","file":"app.js","sourcesContent":["/**\n * Send JavaScript error information to Google Analytics.\n *\n * @param  {Window} window A reference to the \"window\".\n * @return {void}\n * @author Philippe Sawicki <https://github.com/philsawicki>\n */\n(function (window) {\n    'use strict';\n\n    // Retain a reference to the previous global error handler, in case it has been set:\n    var originalWindowErrorCallback = window.onerror;\n\n    /**\n     * Log any script error to Google Analytics.\n     *\n     * Third-party scripts without CORS will only provide \"Script Error.\" as an error message.\n     *\n     * @param  {String}           errorMessage Error message.\n     * @param  {String}           url          URL where error was raised.\n     * @param  {Number}           lineNumber   Line number where error was raised.\n     * @param  {Number|undefined} columnNumber Column number for the line where the error occurred.\n     * @param  {Object|undefined} errorObject  Error Object.\n     * @return {Boolean}                       When the function returns true, this prevents the\n     *                                         firing of the default event handler.\n     */\n    window.onerror = function customErrorHandler (errorMessage, url, lineNumber, columnNumber, errorObject) {\n        // only track events from our scripts\n        url = url || '';\n        if(url.indexOf('//www.bizcardmaker.com/') === -1) {\n          return;\n        }\n\n        // Send error details to Google Analytics, if the library is already available:\n        if (typeof ga === 'function') {\n            // In case the \"errorObject\" is available, use its data, else fallback\n            // on the default \"errorMessage\" provided:\n            var exceptionDescription = errorMessage;\n            if (typeof errorObject !== 'undefined' && typeof errorObject.message !== 'undefined') {\n                exceptionDescription = errorObject.message;\n            }\n\n            // Format the message to log to Analytics (might also use \"errorObject.stack\" if defined):\n            exceptionDescription += ' @ ' + url + ':' + lineNumber + ':' + columnNumber;\n\n            ga('send', 'exception', {\n                'exDescription': exceptionDescription\n            });\n        }\n\n        // If the previous \"window.onerror\" callback can be called, pass it the data:\n        if (typeof originalWindowErrorCallback === 'function') {\n            return originalWindowErrorCallback(errorMessage, url, lineNumber, columnNumber, errorObject);\n        }\n        // Otherwise, Let the default handler run:\n        return false;\n    };\n})(window);\n","/* utils\n */\n\n(function () {\n  'use strict';\n\n  function hash (key) {\n    var hashFull = window.location.hash.substr(1);\n    var hashValue = hashFull.substr(hashFull.indexOf(key + '=')).split('&')[0].split('=')[1];\n\n    if (!hashValue) {\n      return null;\n    }\n\n    return hashValue;\n  }\n\n  function closest ($elem, selector) {\n    // traverse the dom up and find the closest parent\n    // that matches the selector.\n    // include the current element.\n    var $matches;\n\n    // loop through parents\n    while ($elem && $elem !== document) {\n      if ($elem.parentNode) {\n        // find all siblings that match the selector\n        $matches = $elem.parentNode.querySelectorAll(selector);\n        // check if our element is matched (poor-man's Element.matches())\n        if ([].indexOf.call($matches, $elem) !== -1) {\n          return $elem;\n        }\n\n        // go up the tree\n        $elem = $elem.parentNode;\n      } else {\n        return null;\n      }\n    }\n\n    return null;\n  }\n\n  function hasClass (node, className) {\n    if (!node.className) {\n      return false;\n    }\n    var tempClass = ' ' + node.className + ' ';\n    className = ' ' + className + ' ';\n\n    if (tempClass.indexOf(className) !== -1) {\n      return true;\n    }\n\n    return false;\n  }\n\n  function addClass (node, className) {\n    // class is already added\n    if (hasClass(node, className)) {\n      return node.className;\n    }\n\n    if (node.className) {\n      className = ' ' + className;\n    }\n\n    node.className += className;\n\n    return node.className;\n  }\n\n  function removeClass (node, className) {\n    var spaceBefore = ' ' + className;\n    var spaceAfter = className + ' ';\n\n    if (node.className.indexOf(spaceBefore) !== -1) {\n      node.className = node.className.replace(spaceBefore, '');\n    } else if (node.className.indexOf(spaceAfter) !== -1) {\n      node.className = node.className.replace(spaceAfter, '');\n    } else {\n      node.className = node.className.replace(className, '');\n    }\n\n    return node.className;\n  }\n\n  window.util = {\n    closest: closest,\n    hash: hash,\n\n    hasClass: hasClass,\n    addClass: addClass,\n    removeClass: removeClass\n  };\n})();","/* env globals\n */\n\n// local testing urls\nvar printchompUrl = 'http://sandbox.printchomp.com';\nvar apiUrl = 'http://localhost:8080';\nvar env = 'local';\n\n// dev\nif(document.domain.indexOf('development.') !== -1) {\n  env = 'dev';\n}\n\n// stage\nif(document.domain.indexOf('staging.') !== -1) {\n  env = 'stage';\n}\n\n// live\nif(document.domain.indexOf('www.') !== -1) {\n  env = 'live';\n}\n\nif(env === 'dev') {\n  apiUrl = 'https://dev-bizcardmaker.rhcloud.com';\n}\n\nif(env === 'live' || env === 'stage') {\n  apiUrl = 'https://live-bizcardmaker.rhcloud.com';\n  printchompUrl = 'https://printchomp.com';\n}\n","/* foundation modal tweaks\n */\n\n(function() {\n  'use strict';\n\n  // add a class on the body, when the modal is opened\n  // so we can set position: fixed on the background.\n  $(document).on('opened', '[data-reveal]', function () {\n    $(document.body).addClass('modal-opened');\n  });\n\n  $(document).on('closed', '[data-reveal]', function () {\n    $(document.body).removeClass('modal-opened');\n  });\n})();\n","/* safari tweaks\n*/\n\n(function() {\n  'use strict';\n\n  // Safari, in Private Browsing Mode, looks like it supports localStorage\n  // but all calls to setItem throw QuotaExceededError.\n  if (typeof localStorage === 'object') {\n    try {\n      localStorage.setItem('localStorage', 1);\n      localStorage.removeItem('localStorage');\n    } catch (e) {\n      window.Storage.prototype._setItem = window.Storage.prototype.setItem;\n      window.Storage.prototype.setItem = function() {};\n    }\n  }\n\n  // ugly detection for ugly Safari\n  var isSafari = (navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1);\n\n  // show a notice if using safari\n  var $warning = document.querySelector('.warning-safari');\n\n  if (isSafari) {\n    $warning.className += 'warning-safari-show';\n  }\n})();","/* track analytics\n*/\n\n(function() {\n  'use strict';\n\n  var clickElement = function (e) {\n    // order buttons\n    if (window.util.closest(e.target, '.js-order-btn-psprint')) {\n      ga('send', 'event', 'Orders', 'Clicked PsPrint button');\n    }\n  };\n\n  document.body.addEventListener('click', clickElement);\n})();\n","/* psprint order button\n*/\n\n(function() {\n  'use strict';\n\n  var link = 'http://www.shareasale.com/r.cfm?b=283670&u=1215865&m=22819&urllink=&afftrack=';\n  var $btn = document.querySelector('.js-order-btn-psprint');\n\n  var openPsprintPage = function (e) {\n    if (!window.util.closest(e.target, '.js-order-btn-psprint')) {\n      return;\n    }\n\n    // open the url\n    window.open(link, 'psprint');\n  };\n\n  document.body.addEventListener('click', openPsprintPage);\n})();\n","/* logaster modal\n*/\n\n(function() {\n  'use strict';\n\n  var $modal = document.querySelector('.js-modal-logaster');\n\n  // if we're on a page without the modal\n  if (!$modal) {\n    return;\n  }\n\n  var showLogasterModal = function (e) {\n    if (!window.util.closest(e.target, '.js-btn-logaster')) {\n      return;\n    }\n\n    // open the reveal modal\n    $($modal).foundation('open');\n  };\n\n  var closeModal = function (e) {\n    if (!e.target.classList.contains('js-close-modal')) {\n      return;\n    }\n\n    $($modal).foundation('close');\n    e.preventDefault();\n  };\n\n  $modal.addEventListener('click', closeModal);\n  document.body.addEventListener('click', showLogasterModal);\n})();\n","/* affiliates modal\n*/\n\n(function() {\n  'use strict';\n\n  var $modal = document.querySelector('#modal-affiliate');\n\n  // if we're on a page without the modal\n  if (!$modal) {\n    return;\n  }\n\n  var $hideCheckbox = $modal.querySelector('.js-checkbox-affiliate-hide');\n  var affiliateStoreKey = 'bizcardmaker-affiliate';\n  var affiliateStore = null;\n  var affiliateStoreDefault = JSON.stringify({\n    modalHide: false,\n    modalTime: Date.now()\n  });\n  // 1 day\n  var expireTime = 1000 * 60 * 60 * 24;\n  var i;\n\n  var showAffiliateModal = function (e) {\n    if (!window.util.closest(e.target, '.js-affiliate-modal')) {\n      return;\n    }\n\n    // get the localstorage value only on the first click.\n    // for the e2e tests.\n    if (affiliateStore === null) {\n      affiliateStore = window.localStorage.getItem(affiliateStoreKey) || affiliateStoreDefault;\n\n      affiliateStore = JSON.parse(affiliateStore);\n\n      // migration from initial version where value was not an object\n      if (typeof affiliateStore !== 'object') {\n        affiliateStore = JSON.parse(affiliateStoreDefault);\n      }\n    }\n\n    // if the store expired, show it again\n    if (affiliateStore.modalHide === true && (Date.now() - affiliateStore.modalTime > expireTime)) {\n      affiliateStore.modalHide = false;\n      $hideCheckbox.checked = false;\n    }\n\n    if (affiliateStore.modalHide !== true) {\n      // open the reveal modal\n      $($modal).foundation('open');\n\n      // track affiliate modal views\n      ga('send', 'event', 'Affiliate', 'View affiliate modal');\n    }\n  };\n\n  var closeModal = function (e) {\n    if (!e.target.classList.contains('js-close-modal')) {\n      return;\n    }\n\n    $($modal).foundation('close');\n    e.preventDefault();\n  };\n\n  var changeAffiliateHideStore = function (e) {\n    if (e.target.checked) {\n      affiliateStore.modalHide = true;\n      affiliateStore.modalTime = Date.now();\n    } else {\n      affiliateStore.modalHide = false;\n    }\n\n    window.localStorage.setItem(affiliateStoreKey, JSON.stringify(affiliateStore));\n  };\n\n  $modal.addEventListener('click', closeModal);\n  document.body.addEventListener('click', showAffiliateModal);\n  $hideCheckbox.addEventListener('change', changeAffiliateHideStore);\n})();\n","/* subscribe to newsletter modal\n*/\n\n(function() {\n  'use strict';\n\n  var newsletterSubscribe = function(e) {\n    if (!window.util.closest(e.target, '.js-newsletter-subscribe')) {\n      return;\n    }\n\n    // track email\n    var $content = document.querySelector('.card-content');\n    var emailAddress = $content.querySelector('.email p').textContent.trim();\n\n    var xhr = new window.XMLHttpRequest();\n    xhr.open('POST', apiUrl + '/newsletter/subscribe');\n    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xhr.send(JSON.stringify({\n      email: emailAddress\n    }));\n  };\n\n  document.body.addEventListener('click', newsletterSubscribe);\n})();\n","/* theme selector\n*/\n\n(function() {\n  'use strict';\n\n  var themeActive = '';\n  var $themeActive;\n  var $container = document.querySelector('.themes-box');\n\n  // if we're on a page without the themes\n  if (!$container) {\n    return;\n  }\n\n  function hashChange () {\n    themeActive = window.util.hash('theme');\n\n    // if no theme in the url\n    if (!themeActive) {\n      // select the first in the list\n      $container.querySelector('.theme-item').click();\n\n      return;\n    }\n\n    // uncheck previous active theme\n    $themeActive = $container.querySelector('.active');\n    if ($themeActive) {\n      window.util.removeClass($themeActive, 'active');\n    }\n\n    $themeActive = $container.querySelector('.js-' + themeActive);\n    if ($themeActive) {\n      window.util.addClass($themeActive, 'active');\n    }\n  }\n\n  hashChange();\n  window.addEventListener('hashchange', hashChange, false);\n})();\n","/* PDF generation for final printing.\n */\n\nwindow.GeneratePdf = (function () {\n  'use strict';\n\n  var config =  {\n    card: [ 3.75, 2.25 ],\n    margin: 0.35,\n    trim: 0.125\n  };\n\n  var cardWidth = config.card[0];\n  var cardHeight = config.card[1];\n\n  var trim = config.trim;\n  var trimWithMargin = trim + config.margin;\n  var marginWithoutTrim = config.margin - trim;\n  var trimSubstract = 0.06;\n\n  var trimLines = [\n    // top left\n    {\n      x: trimWithMargin,\n      y: trimSubstract,\n      x1: trimWithMargin,\n      y1: trimWithMargin - trimSubstract\n    },\n    {\n      x: trimSubstract,\n      y: trimWithMargin,\n      x1: trimWithMargin - trimSubstract,\n      y1: trimWithMargin\n    },\n\n    // top right\n    {\n      x: cardWidth + marginWithoutTrim,\n      y: trimSubstract,\n      x1: cardWidth + marginWithoutTrim,\n      y1: trimWithMargin - trimSubstract\n    },\n    {\n      x: cardWidth + marginWithoutTrim + trimSubstract,\n      y: trimWithMargin,\n      x1: cardWidth + (config.margin * 2) - trimSubstract,\n      y1: trimWithMargin\n    },\n\n    // bottom left\n    {\n      x: trimWithMargin,\n      y: cardHeight + marginWithoutTrim + trimSubstract,\n      x1: trimWithMargin,\n      y1: cardHeight + (config.margin * 2) - trimSubstract\n    },\n    {\n      x: trimSubstract,\n      y: cardHeight + marginWithoutTrim,\n      x1: trimWithMargin - trimSubstract,\n      y1: cardHeight + marginWithoutTrim\n    },\n\n    // bottom right\n    {\n      x: cardWidth + marginWithoutTrim,\n      y: cardHeight + marginWithoutTrim + trimSubstract,\n      x1: cardWidth + marginWithoutTrim,\n      y1: cardHeight + (config.margin * 2) - trimSubstract\n    },\n    {\n      x: cardWidth + marginWithoutTrim + trimSubstract,\n      y: cardHeight + marginWithoutTrim,\n      x1: cardWidth + (config.margin * 2) - trimSubstract,\n      y1: cardHeight + marginWithoutTrim\n    }\n  ];\n\n  return function(name, imgData) {\n    var doc = new jsPDF('landscape', 'in', [\n      cardWidth + config.margin * 2,\n      cardHeight + config.margin * 2\n    ]);\n\n    doc.addImage(imgData, 'JPEG', config.margin, config.margin, cardWidth, cardHeight);\n\n    // write the trim lines\n    trimLines.forEach(function(line) {\n      doc.setLineWidth(0.01);\n      doc.line(line.x, line.y, line.x1, line.y1);\n    });\n\n    doc.save(name);\n  };\n}());\n","/* Business Card Maker app\n*/\n\nvar app = angular.module('businessCardMaker', [\n  'ngRoute',\n  'angular-meditor'\n]);\n\napp.run([ '$rootScope', function($rootScope){\n  'use strict';\n\n  var root = $rootScope.root = {};\n}]);\n\n","/* fileread directive\n* for uploading files\n*/\n\napp.directive('fileread', [function () {\n  'use strict';\n\n  return {\n    scope: {\n      fileread: '='\n    },\n    link: function (scope, element) {\n      element.bind('change', function (changeEvent) {\n        scope.$apply(function () {\n          scope.fileread = changeEvent.target.files[0];\n          // or all selected files:\n          // scope.fileread = changeEvent.target.files;\n        });\n      });\n    }\n  };\n}]);\n","/* DragResize directive\n */\n\napp.directive('drModel', [\n'$document', '$timeout',\nfunction ($document, $timeout) {\n  'use strict';\n\n  return {\n    template: '<div class=\"dr-container\">' +\n    '<div class=\"drag-handle\"></div>' +\n    '<div class=\"resize-handle\"></div>' +\n    '<div ng-transclude></div>' +\n    '</div>',\n    scope: {\n      drModel: '=',\n      drContainer: '@',\n      drGrid: '@'\n    },\n    replace: true,\n    transclude: true,\n    link: function (scope, element) {\n\n      var classDrActive = 'dr-active';\n      var classDrShow = 'dr-handle-show';\n\n      var $body = document.getElementsByTagName('body')[0];\n      var $container = $body;\n\n      if(scope.drContainer) {\n        $container = document.querySelector(scope.drContainer);\n      }\n\n      var $dragHandle = element[0].querySelector('.drag-handle');\n      var $resizeHandle = element[0].querySelector('.resize-handle');\n\n      var transformPrefixes = [\n        'webkitTransform',\n        'msTransform',\n        'transform'\n      ];\n\n      var startX = 0;\n      var startY = 0;\n      var x = 0;\n      var y = 0;\n\n      var minX = 0;\n      var maxX = 0;\n      var minY = 0;\n      var maxY = 0;\n\n      var dragActive = false;\n      var resizeActive = false;\n\n      var grid = scope.drGrid;\n\n      var maxGrid = function (val) {\n        return Math.floor(val/grid) * grid;\n      };\n\n      var setContainment = function (argument) {\n\n        // get size and position\n        var dragRect = $dragHandle.getBoundingClientRect();\n        var containerRect = $container.getBoundingClientRect();\n\n        var dragStartY = dragRect.top;\n        var dragStartX = dragRect.left;\n\n        minY = dragStartY - containerRect.top;\n        minY = 0 - maxGrid(minY);\n\n        maxY = (containerRect.top + containerRect.height) - dragStartY - dragRect.height;\n        maxY = maxGrid(maxY);\n\n        minX = dragStartX - containerRect.left;\n        minX = 0 - maxGrid(minX);\n\n        maxX = (containerRect.left + containerRect.width) - dragStartX - dragRect.width;\n        maxX = maxGrid(maxX);\n\n      };\n\n      var restrictGrid = function (val) {\n        return (val % grid === 0) ? val : val - val % grid;\n      };\n\n      var mousemove = function (e) {\n\n        if(!dragActive && !resizeActive) {\n          return;\n        }\n\n        // disable text selection\n        e.preventDefault();\n\n        x = restrictGrid(e.touches[0].pageX - startX);\n        y = restrictGrid(e.touches[0].pageY - startY);\n\n        if (x > maxX) {\n          x = maxX;\n        }\n        if (y > maxY) {\n          y = maxY;\n        }\n\n        // drag\n        if(dragActive) {\n          if (x < minX) {\n            x = minX;\n          }\n          if (y < minY) {\n            y = minY;\n          }\n\n          var translate = 'translate3d(' + x + 'px ,' + y + 'px, 0)';\n\n          angular.forEach(transformPrefixes, function(prefix) {\n            element.css(prefix, translate);\n          });\n        }\n\n        // resize\n        if(resizeActive) {\n          var newHeight = element._startHeight + y;\n          element.css('height', newHeight);\n\n          var newWidth = element._startWidth + x;\n          element.css('width', newWidth);\n        }\n\n      };\n\n      var mouseup = function (e) {\n\n        if(!dragActive && !resizeActive) {\n          return;\n        }\n\n        if(dragActive) {\n          dragActive = false;\n\n          // remove transforms and set distance in px\n          angular.forEach(transformPrefixes, function(prefix) {\n            element.css(prefix, '');\n          });\n\n          var left = x;\n          var top = y;\n\n          if(element.css('position') === 'absolute') {\n\n            // absolute elements\n            left += element[0].offsetLeft;\n            top += element[0].offsetTop;\n\n          } else {\n\n            // relative elements\n            if(element.css('left') && element.css('left') !== 'auto') {\n              left = parseInt(element.css('left'), 10) + x;\n            }\n\n            if(element.css('top') && element.css('top') !== 'auto') {\n              top = parseInt(element.css('top'), 10) + y;\n            }\n\n          }\n\n          element.css({\n            top:  top,\n            left:  left,\n            bottom: 'auto',\n            right: 'auto'\n          });\n\n          // set positions in model\n          if(scope.drModel) {\n            scope.drModel.x = left;\n            scope.drModel.y = top;\n          }\n        }\n\n        if(resizeActive) {\n          resizeActive = false;\n\n          // set sizes in model\n          if(scope.drModel) {\n            scope.drModel.width = parseInt(element.css('width'));\n            scope.drModel.height = parseInt(element.css('height'));\n          }\n        }\n\n        // remove active classes\n        $body.classList.remove(classDrActive);\n        element[0].classList.remove(classDrShow);\n\n      };\n\n      var mousedown = function(e) {\n\n        var elem = e.target;\n\n        // recalculate containment\n        setContainment();\n\n        x = y = 0;\n\n        startX = e.touches[0].pageX - x;\n        startY = e.touches[0].pageY - y;\n\n        // resize\n        if(elem === $resizeHandle) {\n          resizeActive = true;\n\n          //element._startY = event.pageY;\n          element._startHeight = parseInt(element.css('height'));\n          element._startWidth = parseInt(element.css('width'));\n        } else {\n          // drag\n          dragActive = true;\n        }\n\n        $body.classList.add(classDrActive);\n        element[0].classList.add(classDrShow);\n\n      };\n\n      // disable window scrolling when moving the mouse\n      // to the window margins or\n      // in the browser chrome and back in\n      var scrollTop;\n      var scrollLeft;\n\n      var disableScroll = function(e) {\n\n        if(!dragActive) {\n          scrollTop = $body.scrollTop;\n          scrollLeft = $body.scrollLeft;\n\n          return;\n        }\n\n        $body.scrollTop = scrollTop;\n        $body.scrollLeft = scrollLeft;\n\n      };\n\n      var emulateTouch = function(e) {\n\n        e.touches = [{\n          clientX: e.clientX,\n          clientY: e.clientY,\n          pageX: e.pageX,\n          pageY: e.pageY\n        }];\n\n        return e;\n\n      };\n\n      var setModel = function() {\n\n        scope.drModel.x = scope.drModel.x || '';\n        element.css({\n          left: scope.drModel.x\n        });\n\n        scope.drModel.y = scope.drModel.y || '';\n        element.css({\n          top: scope.drModel.y\n        });\n\n        scope.drModel.width = scope.drModel.width || '';\n        element.css({\n          width: scope.drModel.width\n        });\n\n        scope.drModel.height = scope.drModel.height || '';\n        element.css({\n          height: scope.drModel.height\n        });\n\n      };\n\n      scope.$watch('drModel', setModel, true);\n\n      $resizeHandle.addEventListener('mousedown', function(e) {\n        mousedown(emulateTouch(e));\n      });\n      $resizeHandle.addEventListener('touchstart', mousedown);\n\n      $dragHandle.addEventListener('mousedown', function(e) {\n        mousedown(emulateTouch(e));\n      });\n      $dragHandle.addEventListener('touchstart', mousedown);\n\n      document.addEventListener('mousemove', function(e) {\n        mousemove(emulateTouch(e));\n      });\n      document.addEventListener('touchmove', mousemove);\n\n      document.addEventListener('mouseup', mouseup);\n      document.addEventListener('touchend', mouseup);\n\n      // don't scroll when moving to the window sides\n      window.addEventListener('scroll', disableScroll);\n\n    }\n  };\n}]);\n","app.controller('MainCtrl', [\n'$rootScope', '$scope', '$routeParams', '$location', '$timeout', '$q',\nfunction($rootScope, $scope, $routeParams, $location, $timeout, $q) {\n  'use strict';\n\n  var $modalOrder;\n\n  var model = $scope.model = {};\n\n  model.cardPictureFile = '';\n  model.cardPicture = '';\n\n  model.imageData = '';\n  model.imageFilename = 'bizcardmaker-com';\n  model.imageExt = '.jpg';\n\n  model.pdfData = '';\n  model.pdfFilename = 'bizcardmaker-com.pdf';\n\n  model.loadingCard = false;\n\n  var expire = new Date();\n  expire.setDate(expire.getDate() + 23);\n  model.promoExpire = expire;\n\n  model.storeDefaults = {\n    card: {\n      name: 'John Doe',\n      position: 'Position',\n      organization: 'Organization',\n      location: 'City, State',\n      phone: '(123) 555-1234',\n      email: 'john.doe@cmail.com',\n      url: 'www.john-doe.com'\n    },\n    position: {\n      picture: {},\n      person: {},\n      details: {},\n      email: {},\n      url: {}\n    }\n  };\n\n  model.store = {\n    card: {},\n    position: {}\n  };\n\n  angular.copy(model.storeDefaults, model.store);\n\n  var storedDetails = window.localStorage.getItem('bizcardmaker-store');\n\n  if(storedDetails) {\n    //angular.copy(angular.fromJson(storedDetails), model.store);\n    angular.extend(model.store, angular.fromJson(storedDetails));\n  }\n\n  // Remy Sharp's debounce\n  // https://remysharp.com/2010/07/21/throttling-function-calls\n  var debounce = function(fn, delay) {\n    var timer = null;\n    return function () {\n      var context = this, args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(context, args);\n      }, delay);\n    };\n  };\n\n  // save edits to localstorage\n  $scope.$watch('model.store', debounce(function(store) {\n\n    window.localStorage.setItem('bizcardmaker-store', angular.toJson(store));\n\n  }, 500), true);\n\n  var clearInlineStyles = function() {\n    if (!document.querySelector('.card-preview')) {\n      return;\n    }\n\n    // clear all inline styles\n    // generated by editor and draggable\n    var cardChildren = document.querySelector('.card-preview').querySelectorAll('*');\n    angular.forEach(cardChildren, function(c) {\n      c.removeAttribute('style');\n    });\n  };\n\n  // reset all saved data\n  $scope.ResetCard = function(change) {\n\n    clearInlineStyles();\n\n    if(change) {\n\n      // on change, only reset the positions\n      angular.copy(model.storeDefaults.position, model.store.position);\n\n    } else {\n\n      // complete reset\n      var previousTheme = model.store.theme;\n\n      angular.copy(model.storeDefaults, model.store);\n\n      // don't reset the currently selected theme\n      model.store.theme = previousTheme;\n    }\n\n\n    window.localStorage.removeItem('bizcardmaker-store');\n\n  };\n\n  // if we have a stored theme\n  // set it as active.\n  if (model.store.theme) {\n    $location.search('theme', model.store.theme);\n  }\n\n  $scope.$on('$locationChangeStart', function(){\n    var theme = $location.search().theme;\n\n    // reset card styles when changing themes\n    // except the text data\n    if(theme !== model.store.theme) {\n      $scope.ResetCard(true);\n    }\n\n    model.store.theme = theme;\n  });\n\n  $scope.$watch('model.cardPictureFile', function() {\n\n    if(model.cardPictureFile) {\n\n      var imageType = /image.*/;\n\n      if (model.cardPictureFile.type.match(imageType)) {\n        var reader = new FileReader();\n\n        reader.onload = function() {\n\n          $timeout(function() {\n            model.cardPicture = reader.result;\n          });\n\n        };\n\n        reader.readAsDataURL(model.cardPictureFile);\n\n      } else {\n\n        window.alert('File not supported!');\n\n      }\n\n    }\n\n  });\n\n  /* Turn px values into em\n   */\n  var pxToEm = function(elem) {\n\n    var parentStyle = window.getComputedStyle(elem.parentNode, null);\n    var style = window.getComputedStyle(elem, null);\n    var childFontSize = parseFloat(style.fontSize);\n    var parentFontSize = parseFloat(parentStyle.fontSize);\n\n    var properties = [ 'left', 'top', 'width', 'height' ];\n    var inlineStyleValue = '';\n\n    var newValues = {};\n\n    properties.forEach(function(prop) {\n\n      inlineStyleValue = elem.style[prop];\n\n      // only if the property is set as inline style\n      if(inlineStyleValue && inlineStyleValue.indexOf('em') === -1) {\n\n        // var childValue = parseFloat(style[prop]);\n        var childValue = parseFloat(style[prop]);\n        var newValue = childValue / parentFontSize;\n\n        // recalculate depending on element fontSize\n        // since it influences ems\n        var emSize = childFontSize / parentFontSize;\n        newValue += (newValue - newValue * emSize) / emSize;\n\n        //elem.style[prop] = newValue + 'em';\n        newValues[prop] = newValue + 'em';\n\n      }\n\n    });\n\n    // change all values at the same time, for performance\n    Object.keys(newValues).forEach(function(key) {\n      elem.style[key] = newValues[key];\n    });\n\n    // convert fontSize to em, only for font tags\n    if(elem.tagName.toLowerCase() === 'font' && style.fontSize.indexOf('em') === -1) {\n      elem.style.fontSize = childFontSize / parentFontSize + 'em';\n    }\n\n  };\n\n  var fontSizes = {\n    '1': '10',\n    '2': '13',\n    '3': '16',\n    '4': '18',\n    '5': '24',\n    '6': '32',\n    '7': '48'\n  };\n\n  // replace px styles and font sizes generated by the editor\n  // so that I can later enlarge the entire business card with ems\n  var fixPxSizes = function(container) {\n    var editors = container.querySelectorAll('[contenteditable]');\n\n    var children;\n\n    angular.forEach(editors, function(e) {\n      children = e.querySelectorAll('*');\n      angular.forEach(children, function(c) {\n        // first turn font size=x to px\n        if(c.tagName.toLowerCase() === 'font') {\n          c.style.fontSize = fontSizes[c.size] + 'px';\n        }\n\n        pxToEm(c);\n      });\n    });\n\n    // fix dragged possitions\n    var lists = container.querySelectorAll('.card-item[style]');\n    var picture = container.querySelector('.card-picture[style]');\n\n    angular.forEach(lists, function(li) {\n      pxToEm(li);\n    });\n\n    if(picture) {\n      pxToEm(picture);\n    }\n\n  };\n\n  // place business card on a canvas\n  $scope.generatePicture = function(cb) {\n    cb = cb || function() {};\n\n    var deferred = $q.defer();\n\n    // remove text selection, to hide still-open editors\n    window.getSelection().removeAllRanges();\n\n    var $cardClone = document.querySelector('.js-card-container').cloneNode(true);\n    $cardClone.classList.add('card-invisible');\n\n    // add the card to the dom before converting to em\n    // so we can getComputedStyle\n    document.body.appendChild($cardClone);\n\n    // before generation, turn all px values to em for up-scaling\n    fixPxSizes($cardClone);\n\n    // double it up only after the px->em conversion\n    $cardClone.classList.add('card-big');\n\n    model.loadingCard = true;\n\n    html2canvas($cardClone, {\n      letterRendering: true\n    })\n    .then(function(canvas) {\n      document.body.removeChild($cardClone);\n      model.loadingCard = false;\n\n      deferred.resolve(canvas);\n\n      // callback for Karma\n      cb(canvas);\n    });\n\n    return deferred.promise;\n\n  };\n\n  $scope.DownloadPdf = function() {\n    $scope.generatePicture()\n    .then(function(canvas) {\n      var imgData = canvas.toDataURL('image/jpeg', 1.0);\n      window.GeneratePdf(model.pdfFilename, imgData);\n    });\n\n    // track pdf download\n    ga('send', 'event', 'Download', 'Download PDF', model.store.theme);\n  };\n\n  $scope.DownloadPicture = function() {\n\n    $scope.generatePicture()\n    .then(function(canvas) {\n\n      // make the canvas a blob, so we can download it with downloadify\n      canvas.toBlob(\n        function (blob) {\n\n          var filename = model.imageFilename + '-' + model.store.theme + model.imageExt;\n\n          // saveAs is global from FileSaver.js\n          // FileSaver is included in jsPdf\n          saveAs(blob, filename);\n\n          // scroll back to the card\n          // since saveAs scrolls to the top\n          var $cardContainer = $('.card-container');\n          $cardContainer[0].scrollIntoView(true);\n\n        },\n        'image/jpeg'\n      );\n\n    });\n\n    // track download\n    ga('send', 'event', 'Download', 'Download picture', model.store.theme);\n\n  };\n\n  model.openedModal = false;\n  model.order = {};\n  $scope.OpenOrderModal = function() {\n\n    // check if any content is overflowing\n    var $content = document.querySelector('.card-content');\n\n    // round values for scrollw/h and clientw/h manually\n    // because of\n    // https://code.google.com/p/chromium/issues/detail?id=360889\n    // summary:\n    // chrome still doesn't return the exact float-point value for\n    // scrollW/H\n\n    // round everything UP\n    var scrollWidth = Math.ceil($content.scrollWidth);\n    var scrollHeight = Math.ceil($content.scrollHeight);\n\n    var clientWidth = Math.ceil($content.clientWidth);\n    var clientHeight = Math.ceil($content.clientHeight);\n\n    // instead of just checking to see if the scroll area is larger\n    // than the safe-zone,\n    // we check if it's larger by more than 5 pixels\n    // because browsers are crazy\n    var widthOverflow = (Math.abs(scrollWidth - clientWidth) > 5);\n    var heightOverflow = (Math.abs(scrollHeight - clientHeight) > 5);\n\n    var isOverflowing = widthOverflow || heightOverflow;\n\n    var overflowMessage = 'Oops! \\n' +\n    'Some of the details on your card will be cut during the printing process. \\n\\n' +\n    'To make sure this doesn\\'t happen, please try: \\n' +\n    '* Shortening some of text lines \\n' +\n    '* Moving the elements closer to the card center \\n';\n\n    if(isOverflowing) {\n\n      window.alert(overflowMessage);\n\n      // track analytics\n      ga('send', 'event', 'Orders', 'Overflow error');\n\n      return false;\n    }\n\n    // if this is the first time we're opening the modal,\n    // copy the details to be used in the order form.\n    // if the modal was previously opened, leave the details alone\n    if(!model.openedModal) {\n\n      model.order.email = $('.email p', $content).text().trim();\n      model.order.name = $('.fn', $content).text().trim();\n      model.order.phone = $('.tel', $content).text().trim();\n      model.order.city = $('.locality', $content).text().trim();\n\n      model.openedModal = true;\n    }\n\n    // generate image preview\n    $scope.generatePicture().then(function(canvas) {\n\n      // open the reveal modal\n      $modalOrder.foundation('open');\n\n      var jpegUrl = canvas.toDataURL('image/jpeg');\n      model.imagePreview = jpegUrl;\n\n    });\n  };\n\n  var allTemplates = 1;\n  var loadedTemplates = 0;\n  $scope.$on('$includeContentLoaded', function() {\n    // when loading all the includes\n    loadedTemplates++;\n    if (loadedTemplates !== allTemplates) {\n      return;\n    }\n\n    $modalOrder = $('.modal-order');\n\n    // init foundation plugins - modal and dropdown\n    $(document.querySelector('.card-editor')).foundation();\n\n    // hack to prevent automatic scrolling from contenteditable\n    var $cardContent = document.querySelector('.card-content');\n    if($cardContent) {\n      $cardContent.addEventListener('scroll', function(event) {\n        $cardContent.scrollTop = 0;\n        $cardContent.scrollLeft = 0;\n      });\n    }\n\n  });\n\n}]);\n","angular.module('businessCardMaker').run(['$templateCache', function($templateCache) {\n  'use strict';\n\n  $templateCache.put('views/cardeditor.html',\n    \"<h2>\\n\" +\n    \"  Customize your business card\\n\" +\n    \"\\n\" +\n    \"  <button type=\\\"button\\\" class=\\\"button small muted btn-reset\\\" ng-click=\\\"ResetCard()\\\" title=\\\"Undo all the styling changes you made. The text and logo will stay the same.\\\">\\n\" +\n    \"    <i class=\\\"fa fa-undo\\\"></i>\\n\" +\n    \"    Reset changes\\n\" +\n    \"  </button>\\n\" +\n    \"</h2>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"card-container js-card-container\\\" ng-class=\\\"{ ' state-loading': model.loadingCard }\\\">\\n\" +\n    \"  <div class=\\\"card-preview {{ model.store.theme }}\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"card-content\\\">\\n\" +\n    \"\\n\" +\n    \"      <input type=\\\"file\\\" id=\\\"picture-upload\\\" class=\\\"file-upload\\\" fileread=\\\"model.cardPictureFile\\\">\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-picture\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.picture\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <label for=\\\"picture-upload\\\" ng-class=\\\"{ 'no-picture': !model.cardPicture }\\\" title=\\\"Click to upload your own logo\\\">\\n\" +\n    \"\\n\" +\n    \"          <i class=\\\"fa fa-picture-o\\\"></i>\\n\" +\n    \"          <span>Upload your logo</span>\\n\" +\n    \"\\n\" +\n    \"          <img ng-src=\\\"{{ model.cardPicture }}\\\">\\n\" +\n    \"\\n\" +\n    \"        </label>\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item person\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.person\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.name\\\" class=\\\"fn\\\"></p>\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.position\\\" class=\\\"title\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item details\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.details\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.organization\\\" class=\\\"org\\\"></p>\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.location\\\" class=\\\"location\\\"></p>\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.phone\\\" class=\\\"tel\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item email\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.email\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.email\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item url\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.url\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.url\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"  </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"<ul class=\\\"download-buttons\\\">\\n\" +\n    \"  <li class=\\\"order-btn order-btn-psprint\\\">\\n\" +\n    \"\\n\" +\n    \"    <button class=\\\"button secondary js-order-btn-psprint\\\" ng-click=\\\"DownloadPicture()\\\">\\n\" +\n    \"      <i class=\\\"fa fa-shopping-cart\\\"></i>\\n\" +\n    \"      60% Off Business Cards\\n\" +\n    \"\\n\" +\n    \"      <small>\\n\" +\n    \"        Get your business cards printed and delivered at the best quality and price!\\n\" +\n    \"      </small>\\n\" +\n    \"\\n\" +\n    \"      <span class=\\\"button-promo\\\">\\n\" +\n    \"        Ends {{ model.promoExpire | date:'MM.dd.yy' }}\\n\" +\n    \"      </span>\\n\" +\n    \"    </button>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"partner-text\\\">\\n\" +\n    \"      Powered by\\n\" +\n    \"      <a href=\\\"http://www.shareasale.com/r.cfm?b=283670&u=1215865&m=22819&urllink=&afftrack=\\\" target=\\\"_blank\\\">\\n\" +\n    \"        PsPrint\\n\" +\n    \"      </a>\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"  </li>\\n\" +\n    \"  <li>\\n\" +\n    \"\\n\" +\n    \"    <a data-toggle=\\\"drop-downloads\\\" class=\\\"button muted button-download js-download-dropdown-btn float-right\\\">\\n\" +\n    \"      <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\n\" +\n    \"      <span>Download as...</span>\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <div id=\\\"drop-downloads\\\" class=\\\"dropdown-pane bottom dropdown-download-files\\\" data-dropdown data-close-on-click=\\\"true\\\">\\n\" +\n    \"      <button type=\\\"button\\\" ng-click=\\\"DownloadPdf()\\\" class=\\\"js-newsletter-subscribe button-download-file\\\">\\n\" +\n    \"        <i class=\\\"fa fa-file-text\\\"></i>\\n\" +\n    \"        Download as PDF\\n\" +\n    \"      </button>\\n\" +\n    \"\\n\" +\n    \"      <button type=\\\"button\\\" ng-click=\\\"DownloadPicture()\\\" class=\\\"js-newsletter-subscribe button-download-file\\\">\\n\" +\n    \"        <i class=\\\"fa fa-picture-o\\\"></i>\\n\" +\n    \"        Download as JPEG\\n\" +\n    \"      </button>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"  </li>\\n\" +\n    \"</ul>\\n\" +\n    \"\\n\"\n  );\n\n}]);\n"]}